const t={body:".notijs_container{position:fixed;width:250px;height: auto;flex-direction:column;list-style:none;padding:5px 0;margin:0;display:flex;align-items:center;}.notijs_message{width:250px;height:auto;border:1px solid rgb(0 0 0 / 0.2);border-radius:3px;box-shadow:0 3px 10px rgb(0 0 0 / 0.2);background:white;padding:10px;margin:5px 0;font-size:13px;box-sizing:border-box;opacity:0;transform:translate(0,0);transition:transform ease-in-out 250ms, opacity ease-in-out 250ms;display:flex;align-items:center;}.notijs_txt{flex:1;margin:0 6px 0 0;}.notijs_icon{margin:0 8px 0 0;width:18px;height:auto;}",progress:".notijs_progress{position:absolute;bottom:1px;left:1px;width:0;height:1px;background:rgb(0 0 0 / 0.2)}",btn:".notijs_btn{background:transparent;border:none;cursor:pointer;padding:0 0 0 6px;display:flex;justify-content:center;align-items:center;}",animation:".notijs_rotate{animation: notijs_rotation .75s linear infinite;}@keyframes notijs_rotation {from{transform: rotate(0deg);}to{transform: rotate(359deg);}"},s="render_message_container",e=3,i="top_right";var n="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiB2aWV3Qm94PSIwIDAgMTYgMTYiPgogIDxwYXRoIGQ9Ik0xMy44NTQgMy42NDZhLjUuNSAwIDAgMSAwIC43MDhsLTcgN2EuNS41IDAgMCAxLS43MDggMGwtMy41LTMuNWEuNS41IDAgMSAxIC43MDgtLjcwOEw2LjUgMTAuMjkzbDYuNjQ2LTYuNjQ3YS41LjUgMCAwIDEgLjcwOCAweiIvPgo8L3N2Zz4=",o="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiB2aWV3Qm94PSIwIDAgMTYgMTYiPgogIDxwYXRoIGQ9Ik03LjkzOCAyLjAxNkEuMTMuMTMgMCAwIDEgOC4wMDIgMmEuMTMuMTMgMCAwIDEgLjA2My4wMTYuMTQ2LjE0NiAwIDAgMSAuMDU0LjA1N2w2Ljg1NyAxMS42NjdjLjAzNi4wNi4wMzUuMTI0LjAwMi4xODNhLjE2My4xNjMgMCAwIDEtLjA1NC4wNi4xMTYuMTE2IDAgMCAxLS4wNjYuMDE3SDEuMTQ2YS4xMTUuMTE1IDAgMCAxLS4wNjYtLjAxNy4xNjMuMTYzIDAgMCAxLS4wNTQtLjA2LjE3Ni4xNzYgMCAwIDEgLjAwMi0uMTgzTDcuODg0IDIuMDczYS4xNDcuMTQ3IDAgMCAxIC4wNTQtLjA1N3ptMS4wNDQtLjQ1YTEuMTMgMS4xMyAwIDAgMC0xLjk2IDBMLjE2NSAxMy4yMzNjLS40NTcuNzc4LjA5MSAxLjc2Ny45OCAxLjc2N2gxMy43MTNjLjg4OSAwIDEuNDM4LS45OS45OC0xLjc2N0w4Ljk4MiAxLjU2NnoiLz4KICA8cGF0aCBkPSJNNy4wMDIgMTJhMSAxIDAgMSAxIDIgMCAxIDEgMCAwIDEtMiAwek03LjEgNS45OTVhLjkwNS45MDUgMCAxIDEgMS44IDBsLS4zNSAzLjUwN2EuNTUyLjU1MiAwIDAgMS0xLjEgMEw3LjEgNS45OTV6Ii8+Cjwvc3ZnPg==";class a{constructor(t,n){this.text=t,this.options=n,this.text=t,this.duration=1e3*(n?.duration||e),this.position=n?.position||i,this.icon=n?.icon,this.extend=n?.extend,this.$container=document.getElementById(s)||document.createElement("ol"),this.animate=this.animate.bind(this),this.observer=new MutationObserver((t=>{for(const e of t)"childList"===e.type&&e.target.id===s&&this.animate("in")}))}init(){this.observer.observe(document,{childList:!0,subtree:!0}),document.getElementById(s)||(this.setCSS("body",t.body),this.$container.id=s,this.$container.classList.add("notijs_container"),document.body.append(this.$container)),this.$message=this.setExtend(document.createElement("li"),this.extend?.message||{}),this.$message.classList.add("notijs_message"),this.$message.setAttribute("role","alert"),this.$message.setAttribute("aria-live","polite"),this.position!==this.$container.dataset.position&&(this.$container=this.setPosition(this.$container,this.position)),this.icon&&this.$message.append(this.setIcon());const e=document.createElement("span");e.classList.add("notijs_txt"),e.textContent=this.text,this.$message.append(e),this.$container.append(this.$message)}animate(t){this.$message.dataset.animation=t;let s=[0,0];switch(this.position){case"top":s="in"===t?[0,10]:[0,-10];break;case"bottom":s="in"===t?[0,-10]:[0,10];break;case"top_right":case"bottom_right":s="in"===t?[-10,0]:[10,0];break;case"top_left":case"bottom_left":s="in"===t?[10,0]:[-10,0]}setTimeout((()=>{this.$message.style.transform=`translate(${s[0]}px, ${s[1]}px)`,this.$message.style.opacity="in"===t?"1":"0"})),this.observer.disconnect()}setIcon(){const{src:t,alt:s}="object"==typeof this.icon?this.icon:{src:"error"===this.icon?o:"success"===this.icon?n:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiAgdmlld0JveD0iMCAwIDE2IDE2Ij4KICA8cGF0aCBkPSJNMTQgMWExIDEgMCAwIDEgMSAxdjhhMSAxIDAgMCAxLTEgMWgtMi41YTIgMiAwIDAgMC0xLjYuOEw4IDE0LjMzMyA2LjEgMTEuOGEyIDIgMCAwIDAtMS42LS44SDJhMSAxIDAgMCAxLTEtMVYyYTEgMSAwIDAgMSAxLTFoMTJ6TTIgMGEyIDIgMCAwIDAtMiAydjhhMiAyIDAgMCAwIDIgMmgyLjVhMSAxIDAgMCAxIC44LjRsMS45IDIuNTMzYTEgMSAwIDAgMCAxLjYgMGwxLjktMi41MzNhMSAxIDAgMCAxIC44LS40SDE0YTIgMiAwIDAgMCAyLTJWMmEyIDIgMCAwIDAtMi0ySDJ6Ii8+CiAgPHBhdGggZD0iTTMgMy41YS41LjUgMCAwIDEgLjUtLjVoOWEuNS41IDAgMCAxIDAgMWgtOWEuNS41IDAgMCAxLS41LS41ek0zIDZhLjUuNSAwIDAgMSAuNS0uNWg5YS41LjUgMCAwIDEgMCAxaC05QS41LjUgMCAwIDEgMyA2em0wIDIuNWEuNS41IDAgMCAxIC41LS41aDVhLjUuNSAwIDAgMSAwIDFoLTVhLjUuNSAwIDAgMS0uNS0uNXoiLz4KPC9zdmc+",alt:this.icon};return this.$icon=document.createElement("img"),this.$icon.src=t,this.$icon.alt=s||"Icon",this.$icon.classList.add("notijs_icon"),this.$icon}setCSS(t,s){const e=`notijs_${t}`;if(!document.getElementById(e)){const t=document.createElement("style");t.id=e,t.textContent=s,document.head.append(t)}}setExtend(t,s){for(let e in s)t.style[e]=s[e];return t}setPosition(t,s){const e={},i=s.split("_");for(let t of i)e[t]=0;return this.setExtend(t,1===i.length?{...e,width:"100%"}:e)}destroy(){this.$message.remove()}}class r extends a{constructor(t,s){super(t,s),this.endTransitionEventListener=()=>this.destroy()}render(){this.init(),this.setCSS("progress",t.progress),this.$progress=this.setExtend(document.createElement("div"),this.extend?.progressbar||{}),this.$progress.classList.add("notijs_progress"),this.$message.appendChild(this.$progress),this.$message.addEventListener("transitionend",this.endTransitionEventListener),window.requestAnimationFrame(this.progressBar.bind(this)),setTimeout((()=>this.animate("out")),this.duration)}progressBar(t){this.startProgress||(this.startProgress=t);const s=t-this.startProgress;if(this.previousProgress!==t){const t=s/this.duration*99;this.$progress.style.width=`${t}%`}s<this.duration&&(this.previousProgress=t,window.requestAnimationFrame(this.progressBar.bind(this)))}destroy(){"out"===this.$message.dataset.animation&&(super.destroy(),this.$message.removeEventListener("transitionend",this.endTransitionEventListener))}}class g extends a{constructor(t,s){super(t,s),this.$button=document.createElement("button"),this.clickEventListener=()=>this.destroy()}render(){this.init(),this.setCSS("btn",t.btn);const s=document.createElement("img");s.src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiB2aWV3Qm94PSIwIDAgMTYgMTYiPgo8ZyBjb2xvcj0iZ3JlZW4iPgogIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTEzLjg1NCAyLjE0NmEuNS41IDAgMCAxIDAgLjcwOGwtMTEgMTFhLjUuNSAwIDAgMS0uNzA4LS43MDhsMTEtMTFhLjUuNSAwIDAgMSAuNzA4IDBaIi8+CiAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMi4xNDYgMi4xNDZhLjUuNSAwIDAgMCAwIC43MDhsMTEgMTFhLjUuNSAwIDAgMCAuNzA4LS43MDhsLTExLTExYS41LjUgMCAwIDAtLjcwOCAwWiIvPgo8L2c+Cjwvc3ZnPg==",s.alt="Close Message",this.$button.classList.add("notijs_btn"),this.$button.appendChild(s),this.$button.addEventListener("click",this.clickEventListener),this.$message.appendChild(this.$button)}destroy(){super.destroy(),this.$button.removeEventListener("click",this.clickEventListener)}}class c extends a{constructor(t,s,e){super(t,s),this.promise=e,this.promise=e,this.$loader=document.createElement("img"),this.endTransitionEventListener=()=>this.destroy()}async render(){return this.init(),this.setCSS("animation",t.animation),this.$loader.src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiB2aWV3Qm94PSIwIDAgMTYgMTYiPgogIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTggM2E1IDUgMCAxIDAgNC41NDYgMi45MTQuNS41IDAgMCAxIC45MDgtLjQxN0E2IDYgMCAxIDEgOCAydjF6Ii8+CiAgPHBhdGggZD0iTTggNC40NjZWLjUzNGEuMjUuMjUgMCAwIDEgLjQxLS4xOTJsMi4zNiAxLjk2NmMuMTIuMS4xMi4yODQgMCAuMzg0TDguNDEgNC42NThBLjI1LjI1IDAgMCAxIDggNC40NjZ6Ii8+Cjwvc3ZnPg==",this.$loader.alt="Loading...",this.$message.addEventListener("transitionend",this.endTransitionEventListener),await this.exec()}async exec(){try{this.setState("running");const t=await this.promise.fn();return this.setState("success"),t}catch(t){return this.setState("error"),t}}setState(t){const s=this.$message.getElementsByTagName("span")[0];switch(t){case"error":this.$loader.classList.remove("notijs_rotate"),this.$loader.src=o,s.textContent=this.promise.error,setTimeout((()=>this.animate("out")),this.duration);break;case"success":this.$loader.classList.remove("notijs_rotate"),this.$loader.src=n,s.textContent=this.promise.success,setTimeout((()=>this.animate("out")),this.duration);break;default:this.$loader.classList.add("notijs_rotate"),this.$message.append(this.$loader)}}destroy(){"out"===this.$message.dataset.animation&&(super.destroy(),this.$message.removeEventListener("transitionend",this.endTransitionEventListener))}}const M={message:function(t,s={}){let e;const{mode:i,...n}=s;switch(i){case"auto":default:e=new r(t,n);break;case"close":e=new g(t,n)}e.render()},promise:async function(t,s={},e){const i=new c(t,s,e);return await i.render()}};export{M as notijs};
//# sourceMappingURL=index.mjs.map
